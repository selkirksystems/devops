---
  - name: Provision an EC2 ELB
    hosts: localhost
    connection: local
    gather_facts: False
    # Necessary Variables for creating/provisioning the EC2 Instance
    vars:
      region: us-west-2 # Change the Region
      keypair: Selkirk-PK # Change the keypair name
    # Task that will be used to Launch/Create an EC2 Security Group(s)
    tasks:
      - name: create elb
        ec2_elb_lb:
        name: khELB
        state: present
        region: us-west-2
        zones:
          - us-west-2a
        listeners:
          - protocol: http
            load_balancer_port: 80
            instance_port: 80
          - protocol: https
            load_balancer_port: 443
            instance_protocol: http
            instance_port: 80
        register: elb
