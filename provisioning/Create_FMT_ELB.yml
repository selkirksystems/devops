---
  - name: Provision an EC2 ELB
    hosts: localhost
    connection: local
    gather_facts: False
    # Necessary Variables for creating/provisioning the EC2 Instance
    vars:
      region: us-west-2 # Change the Region
      keypair: Selkirk-PK # Change the keypair name
    # Task that will be used to Launch/Create an EC2 Security Group(s)
    tasks:
      - name: Create Web ELB
        local_action:
          module: ec2_elb_lb
          name: "KevinELB"
          state: present
          region: "{{ region }}"
          zones:
            - us-west-2a
          listeners:
            - protocols: http
            - load_balancer_port: 80
            - instance_port: 80
          health_check:
            ping_protocol: http # options are http, https, ssl, tcp
            ping_port: 80
            ping_path: "/" # not required for tcp or ssl
            response_timeout: 5 # seconds
            interval: 30 # seconds
            unhealthy_threshold: 2
            healthy_threshold: 2
#          stickiness:
#            type: loadbalancer              ***   need module version 2.0
#            enabled: yes
#            expiration: 300
